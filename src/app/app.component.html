<!-- Main Layout -->
<div class="min-h-screen bg-gray-100 flex flex-col pb-20">
  <!--  Header -->
  <app-header 
  *ngIf="!hideHeaderAndCategory"
  (searchChange)="onSearch($event)"></app-header>

  <!-- Category Filters -->
  <app-category-filter
  *ngIf="!hideHeaderAndCategory"
    [subcategories]="(subcategories$ | async) ?? []"
    (categoryChange)="onCategoryChange($event)"
    (subcategoryChange)="onSubcategoryChange($event)">
  </app-category-filter>

  <!-- Main Content Area -->
  <main class="flex-1 container mx-auto px-4 py-6 overflow-y-auto">
    <!--  Routed Page Content -->
    <router-outlet></router-outlet>
    </main>
    
  
  <app-share-modal
  *ngIf="showShareModal"
  (close)="showShareModal = false">
</app-share-modal>



<!--  Footer  -->
<footer class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 shadow z-50">
  <div class="max-w-md mx-auto flex justify-around items-center py-2 text-sm text-gray-700">

    <!--  Home -->
    <button (click)="navigateTo('home')" class="flex flex-col items-center hover:text-amber-500">
      <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 12l9-9 9 9M4 10v10h16V10" />
      </svg>
      Home
    </button>

    <!-- About -->
    <button (click)="navigateTo('about')" class="flex flex-col items-center hover:text-amber-500">
      <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M12 20h.01M12 4a8 8 0 110 16 8 8 0 010-16z" />
      </svg>
      About
    </button>

    <!--  Cart -->
    <button (click)="navigateTo('checkout')" class="relative flex flex-col items-center hover:text-amber-500">
      <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.6 17h8.8a1 1 0 00.95-.68L19 13M16 21a1 1 0 100-2 1 1 0 000 2zM8 21a1 1 0 100-2 1 1 0 000 2z" />
      </svg>
      Cart
      <span 
      *ngIf="(cartCount$ | async) as count"
      class="absolute -top-1 -right-2 bg-[#843A6B] text-white text-xs rounded-full px-1.5 py-0.5">
        {{ count }}
      </span>
      
      
    </button>

    <!-- share -->
    <button (click)="sharePage()" class="flex flex-col items-center hover:text-amber-500">
      <svg class="w-6 h-6 mb-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
        <path d="M352 320c-22.1 0-41.9 10-55.2 25.6L160.9 280.4c1.3-5.3 2.1-10.9 2.1-16.4s-.7-11.1-2.1-16.4l135.9-65.2c13.3 15.6 33.1 25.6 55.2 25.6 39.8 0 72-32.2 72-72s-32.2-72-72-72s-72 32.2-72 72c0 5.5 .7 11.1 2.1 16.4l-135.9 65.2c-13.3-15.6-33.1-25.6-55.2-25.6c-39.8 0-72 32.2-72 72s32.2 72 72 72c22.1 0 41.9-10 55.2-25.6l135.9 65.2c-1.3 5.3-2.1 10.9-2.1 16.4c0 39.8 32.2 72 72 72s72-32.2 72-72s-32.2-72-72-72z"/>
      </svg>
      <span>Share</span>
    </button>
    
    
    
  </div>
</footer>
